(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{14:function(e,t,n){e.exports={form:"CreateContactForm_form__1IKsq",button:"CreateContactForm_button__v34X3"}},24:function(e,t,n){e.exports={enter:"pop_enter__1NM7x",enterActive:"pop_enterActive__1Bhql",exit:"pop_exit__1_phz",exitActive:"pop_exitActive__3xbz2"}},32:function(e,t,n){e.exports={container:"App_container__16xz_"}},33:function(e,t,n){e.exports={enter:"slide-500ms_enter__3KjJC",enterActive:"slide-500ms_enterActive__1PUSQ",exit:"slide-500ms_exit__Yd33a",exitActive:"slide-500ms_exitActive__3BQFL"}},34:function(e,t,n){e.exports={titleSection:"Section_titleSection__3sOBD"}},35:function(e,t,n){e.exports={enter:"slide_enter__BLs75",enterActive:"slide_enterActive__2XArv",exit:"slide_exit__2XvOt",exitActive:"slide_exitActive__3LNYO"}},36:function(e,t,n){e.exports={filter:"Filter_filter__1E5tH"}},37:function(e,t,n){e.exports={p:"Alert_p__3pTNQ"}},43:function(e,t,n){e.exports=n(83)},7:function(e,t,n){e.exports={list:"ContactsList_list__2RiYd",item:"ContactsList_item__2O7n3",wrap:"ContactsList_wrap__2wfAx"}},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),i=(n(48),n(3)),l=n(5),s=n(8),u=n(11),m=n(10),p=n(84),d=n(32),f=n.n(d),h=n(33),v=n.n(h),_=n(24),b=n.n(_),E=n(34),g=function(e){var t=e.title,n=e.children;return r.a.createElement("section",{className:E.titleSection},r.a.createElement("h2",null,t),n)},y="LOADCONTACTS",C="ADDCONTACT",O="DELETECONTACT",x=n(85),A=n(7);var N=function(e){var t=e.name,n=e.number,a=e.onDeleteContact,c=e.index;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("span",null,c,". ",t)),r.a.createElement("div",{className:A.wrap},r.a.createElement("p",null,n),r.a.createElement("button",{type:"button",onClick:a,className:A.button},r.a.createElement("i",{className:"".concat(A.icon," material-icons")},"close"))))},j=function(e){var t=e.message;return r.a.createElement("p",null,t,"!")},w=n(35),S=n.n(w),T=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onLoadContacts()}},{key:"render",value:function(){var e=this.props,t=e.contacts,n=e.onDeleteContact;return r.a.createElement(r.a.Fragment,null,t.length>0?r.a.createElement(x.a,{component:"ul",className:A.list},t.map((function(e,t){var a=e.id,c=e.name,o=e.number;return r.a.createElement(p.a,{key:a,timeout:300,classNames:S.a,unmountOnExit:!0},r.a.createElement("li",{key:a,className:A.item},r.a.createElement(N,{index:t+1,name:c,number:o,onDeleteContact:function(){return n(a)}})))}))):r.a.createElement(j,{message:"Contacts for query not found"}))}}]),n}(a.Component),L=Object(i.b)((function(e){return{contacts:(t=e.contacts,n=e.filter,t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})))};var t,n}),(function(e){return{onDeleteContact:function(t){return e(function(e){return{type:O,payload:{id:e}}}(t))},onLoadContacts:function(){return e({type:y,payload:{}})}}}))(T),k="CHANGEFILTER",D=n(36),q=function(e){var t=e.value,n=e.onChangeFilter;return r.a.createElement("div",{className:D.filter},r.a.createElement("p",null,"Find contacts by name"),r.a.createElement("input",{type:"text",value:t,onChange:n,placeholder:"Enter name..."}))},F=Object(i.b)((function(e){return{value:e.filter}}),(function(e){return{onChangeFilter:function(t){return e((n=t.target.value,{type:k,payload:{filter:n}}));var n}}}))(q),I=n(13),J=n(17),z=n(14),R=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",number:""},e.handleChange=function(t){e.setState(Object(J.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.onAddContact(Object(I.a)({},e.state)),e.setState({name:"",number:""})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number;return r.a.createElement("form",{onSubmit:this.handleSubmit,className:z.form},r.a.createElement("div",{className:z.wrap},r.a.createElement("p",null,"Name"),r.a.createElement("input",{type:"text",placeholder:"Enter contact`s name",value:t,onChange:this.handleChange,name:"name"})),r.a.createElement("div",{className:z.wrap},r.a.createElement("p",null,"Number"),r.a.createElement("input",{type:"text",placeholder:"Enter contact`s name",value:n,onChange:this.handleChange,name:"number"})),r.a.createElement("button",{className:z.button,type:"submit"},"Add contact"))}}]),n}(a.Component),U=Object(i.b)(null,(function(e){return{onAddContact:function(t){return e(function(e){return{type:C,payload:{contact:e},meta:{addContact:!0}}}(t))}}}))(R),B=n(37),H=function(e){var t=e.message;return r.a.createElement("p",{className:B.p},t,"!")},M=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={addTittle:!1},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setState({addTittle:!0})}},{key:"render",value:function(){var e=this.state.addTittle,t=this.props,n=t.alert,a=t.count,c=!!n;return r.a.createElement("div",{className:f.a.container},r.a.createElement(p.a,{in:e,timeout:500,classNames:v.a,unmountOnExit:!0},r.a.createElement("h1",null,"Phonebook")),r.a.createElement(g,{title:""},r.a.createElement(U,null)),r.a.createElement(p.a,{in:a>2,timeout:500,classNames:b.a,unmountOnExit:!0},r.a.createElement(g,{title:""},r.a.createElement(F,null))),r.a.createElement(g,{title:""},r.a.createElement(L,null)),r.a.createElement(p.a,{in:c,timeout:300,classNames:b.a,unmountOnExit:!0},r.a.createElement(H,{message:n})))}}]),n}(a.Component),W=Object(i.b)((function(e){return{alert:e.alert,count:e.contacts.length}}),null)(M),Q=n(6),X=n(38),Y=n(40),K=function(){try{var e=localStorage.getItem("contacts");return e?JSON.parse(e):[]}catch(t){return[]}},P=function(e,t){try{var n=[].concat(Object(Y.a)(e),[t]);return localStorage.setItem("contacts",JSON.stringify(n)),n}catch(a){return alert("Woooops, something wrong"),e}},$=function(e,t){try{var n=e.filter((function(e){return e.id!==t}));return localStorage.setItem("contacts",JSON.stringify(n)),n}catch(a){return alert("Woooops, something wrong"),e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return K();case C:return P(e,t.payload.contact);case O:return $(e,t.payload.id);default:return e}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return console.log(t.payload.filter),t.payload.filter;default:return e}},V="SHOWALERT",ee="HIDEALERT",te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return t.payload.message;case ee:return"";default:return e}},ne=n(39),ae=n.n(ne),re=n(18),ce={name:"The name must contain only the letters a-z, A-C and a space, with length from 3 to 20 characters",number:"The number must contain only integers from 0-9, 10 characters long",notUnique:"Contact already exist!"},oe="error",ie="success",le=new function e(t){var n=this;Object(l.a)(this,e),this.validate=function(e,t){var a,r=n.schema.validate(t),c=r.error,o=r.value;return c?n.errorTransform(c):n.checkUnique(e,t)?{message:ce.notUnique,meta:oe}:{contact:(a=o,Object(I.a)(Object(I.a)({},a),{},{id:ae.a.generate()})),meta:ie}},this.errorTransform=function(e){if("string.empty"===e.details[0].type)return{message:e.message,meta:oe};var t=e.details[0].path[0];return{message:ce[t],meta:oe}},this.checkUnique=function(e,t){return e.some((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))},this.schema=t}(re.object({name:re.string().pattern(/^[a-zA-Z ]{3,20}$/).trim().required(),number:re.string().pattern(/^[0-9]{10}$/).required()})),se=function(e){return function(t){return function(n){if(n.meta&&n.meta.addContact){var a=e.getState().contacts,r=n.payload.contact,c=le.validate(a,r);c.meta===ie&&(n.payload.contact=c.contact,t(n));var o=c.message?c.message:"";return e.dispatch({type:V,payload:{message:o}}),void setTimeout((function(){e.dispatch({type:ee})}),3e3)}t(n)}}},ue=Object(Q.combineReducers)({contacts:G,filter:Z,alert:te}),me=Object(X.composeWithDevTools)(Object(Q.applyMiddleware)(se)),pe=Object(Q.createStore)(ue,me);o.a.render(r.a.createElement(i.a,{store:pe},r.a.createElement(W,null)),document.querySelector("#root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.c433608c.chunk.js.map